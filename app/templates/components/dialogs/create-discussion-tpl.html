<md-dialog class="create-discussion" aria-label="Create Discussion">
    <form name="form">
        <md-toolbar>
            <div class="md-toolbar-tools">
                <h2>Create Discussion</h2>
                <span flex></span>
                <md-button class="md-icon-button btn-close" ng-click="cancel()">
                    <ng-md-icon icon="close" fill="#fff" size="32" aria-label="Close dialog"></ng-md-icon>
                </md-button>
            </div>
        </md-toolbar>
        <md-dialog-content>
                <div class="block message-error" layout="row" ng-if="message.error" layout-padding>
                    <ng-md-icon icon="sms_failed" style="fill: #B53A3A" size="32" layout-align="center center"></ng-md-icon>
                    <div layout layout-align="center center">
                        <md-subheader hide-sm>Discussion not created</md-subheader>
                        <md-subheader hide-gt-sm>Discussion not created</md-subheader>
                    </div>
                </div>
                <md-input-container flex>
                    <label>Subject</label>
                    <input name="subject" ng-model="subject" required>
                </md-input-container>
                <md-input-container flex>
                    <label>Content</label>
                    <textarea name="content" ng-model="content" columns="1" required></textarea>
                </md-input-container>
                <div class="block" layout="row">
                    <span flex></span>
                    <md-button class="md-raised md-primary" ng-disabled="isCreation || !form.$valid" ng-click="createDiscussion()">Create</md-button>
                </div>
                <div class="block" layout="row" ng-if="isCreation">
                    <md-progress-linear md-mode="indeterminate"></md-progress-linear>
                </div>
        </md-dialog-content>
    </form>
</md-dialog>