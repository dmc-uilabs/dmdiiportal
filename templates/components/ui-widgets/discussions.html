<div class="content-panel-header">
    <md-toolbar>
        <div class="md-toolbar-tools widget-toolbar-title">
            <h2>{{widgetTitle}}</h2>
            <md-button ng-if="projectId > 0" class="add-button-square" ng-click="newDiscussion($event)" aria-label="Add Discussion">
                <ng-md-icon icon="add" size="18"></ng-md-icon>
            </md-button>
            <span flex></span>
            <a ng-href="{{(projectId ? '/project.php#/'+projectId+'/discussions' : '/all.php#/discussions')}}"
                       ng-click="previousPage.save($event)"
                       class="link-button uppercase">View All ({{total}})</a>
        </div>
    </md-toolbar>
</div>
<div class="content-panel-body">
    <md-content>
        <div class="discussions-list">
            <md-list>
                <md-list-item ng-repeat="item in discussions" class="md-3-line">
                    <div class="md-list-item-text">
                        <h3><a href="/individual-discussion.php#/{{item.id}}" ng-click="previousPage.save($event)" class="link-button">{{item.title}}</a></h3>
                        <div class="info">
                            <span>{{item.created_by}} {{ item.isPosted ? 'posted' : 'replied' }} | {{item.created_at_format}}</span>
                        </div>
                    </div>
                </md-list-item>
            </md-list>
            <md-list-item ng-if="discussions.length == 0">
                <div class="md-list-item-text">
                    <span>No discussions</span>
                </div>
            </md-list-item>
        </div>
    </md-content>
</div>
